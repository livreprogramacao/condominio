<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 

<h:head></h:head> 
<body> 
		<h:form id="gerir">
			<h2>Cadastro de unidades</h2>
			<p>Registra os moradores do condominio.</p>
			<table>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="bloco" value="Bloco:" />
					</th>
					<td>
						<h:inputText id="bloco" value="#{newUnidade.bloco}" /> 
						<h:message for="bloco" errorClass="invalid" />
					</td>
				</tr>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="unidade" value="Unidade:" />
					</th>
					<td>
						<h:inputText id="unidade" value="#{newUnidade.unidade}" /> 
						<h:message for="unidade" errorClass="invalid" />
					</td>
				</tr>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="tipo" value="Tipo:" />
					</th>
					<td>
						<h:inputText id="tipo" value="#{newUnidade.tipo}" /> 
						<h:message for="tipo" errorClass="invalid" />
					</td>
				</tr>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="nome" value="Nome:" />
					</th>
					<td>
						<h:inputText id="nome" value="#{newUnidade.nome}" /> 
						<h:message for="nome" errorClass="invalid" />
					</td>
				</tr>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="fracao" value="Fração:" />
					</th>
					<td>
						<h:inputText id="fracao" value="#{newUnidade.fracao}" /> 
						<h:message for="fracao" errorClass="invalid" />
					</td>
				</tr>
			</table>
			<p>
				<h:commandButton id="register" action="#{gerirUnidade.incluir}" value="Incluir" />
					
				<h:outputText value=" Atualizado!"
					rendered="#{facesContext.postback and empty facesContext.messageList}"
					style="color: green;" />
			</p>
		</h:form>
		<h2>Unidades</h2>
		<h:panelGroup rendered="#{empty unidades}">
			<em>No registered unidades.</em>
		</h:panelGroup>
		<h:dataTable var="_member" value="#{unidades}"
			rendered="#{not empty unidades}">
			<h:column>
				<f:facet name="header">Id</f:facet>
                #{_member.id}
            </h:column>
			<h:column>
				<f:facet name="header">Bloco</f:facet>
                #{_member.bloco}
            </h:column>
			<h:column>
				<f:facet name="header">Unidade</f:facet>
                #{_member.unidade}
            </h:column>
			<h:column>
				<f:facet name="header">Nome</f:facet>
                #{_member.nome}
            </h:column>
			<h:column>
				<f:facet name="header">Tipo</f:facet>
                #{_member.tipo}
            </h:column>
			<h:column>
				<f:facet name="header">Fração</f:facet>
                #{_member.fracao}
            </h:column>
			<h:column>
				<f:facet name="header">REST URL</f:facet>
				<a href="#{request.contextPath}/rest/unidades/#{_member.id}">/rest/unidades/#{_member.id}</a>
			</h:column>
			<f:facet name="footer">
                REST URL for all unidades: <a
					href="#{request.contextPath}/rest/unidades">/rest/unidades</a>
			</f:facet>
		</h:dataTable>

</body> 
</html>
